<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ë‚˜ì˜ ëŒ€ì‹œë³´ë“œ</title>

<style>
:root{
  --bg:#0b1020; --card:#121a33; --text:#e9eeff; --muted:#8ea0c9;
  --line:rgba(255,255,255,.1); --accent:#7c5cff; --ok:#3ddc97;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,-apple-system,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
  background:linear-gradient(180deg,#0b1020,#0e1430);color:var(--text)
}
.top{
  display:flex;gap:10px;padding:14px;
  border-bottom:1px solid var(--line);
  background:#0e1430;position:sticky;top:0;z-index:10
}
.top button{
  padding:10px 14px;border-radius:14px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.05);
  color:#fff;cursor:pointer
}
.top button.active{
  border-color:var(--accent);
  background:rgba(124,92,255,.25)
}
.page{display:none}
.page.active{display:block}

.wrap{max-width:920px;margin:0 auto;padding:18px}
.card{
  background:var(--card);border:1px solid var(--line);
  border-radius:18px;padding:14px;margin-bottom:14px
}
h1{margin:0 0 6px}
.sub{color:var(--muted);font-size:14px;margin-bottom:10px}
.section-title{font-size:15px;margin-bottom:10px}
.item{
  display:flex;gap:10px;align-items:flex-start;
  padding:10px;border-radius:12px;
  border:1px solid var(--line);
  margin-bottom:8px;background:rgba(0,0,0,.15)
}
input[type=checkbox]{width:18px;height:18px;accent-color:var(--accent)}
textarea{
  width:100%;min-height:120px;
  background:rgba(0,0,0,.25);
  border:1px solid var(--line);
  border-radius:12px;padding:10px;color:var(--text)
}
.progress{height:10px;background:rgba(255,255,255,.1);border-radius:999px;overflow:hidden}
.bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--ok))}
.kpi{display:flex;gap:10px;margin-top:10px}
.kpi .box{
  flex:1;background:rgba(0,0,0,.2);
  border:1px solid var(--line);
  border-radius:12px;padding:10px
}
.num{font-size:22px;font-weight:800;margin-top:6px}
</style>
</head>

<body>

<div class="top">
  <button id="tabRoutine" class="active">ğŸ—“ ë£¨í‹´</button>
  <button id="tabBeauty">ğŸ’„ ë·°í‹°</button>
</div>

<!-- ================= ë£¨í‹´ ================= -->
<div id="routine" class="page active">
<div class="wrap">

<div class="card">
  <h1>ì„ íƒê³¼ ì§‘ì¤‘ ë£¨í‹´</h1>
  <div class="sub">ì²´í¬/ì¼ê¸° ìë™ ì €ì¥ Â· ì§„í–‰ë¥  ê³„ì‚°</div>
</div>

<div class="card">
  <div class="section-title">ğŸŒ… ì•„ì¹¨</div>
  <div class="item"><input type="checkbox" data-k="r_med">ëª…ìƒ</div>
  <div class="item"><input type="checkbox" data-k="r_run">ëŸ¬ë‹</div>
</div>

<div class="card">
  <div class="section-title">ğŸŒ™ ì €ë…</div>
  <div class="item"><input type="checkbox" data-k="r_eng">ì˜ì–´</div>
  <div class="item"><input type="checkbox" data-k="r_save">ì ˆì•½</div>
</div>

<div class="card">
  <div class="section-title">ğŸ“– ì¼ê¸°</div>
  <textarea id="routineMemo" placeholder="ì˜¤ëŠ˜ ê¸°ë¡"></textarea>
</div>

<div class="card">
  <div class="progress"><div class="bar" id="routineBar"></div></div>
  <div class="kpi">
    <div class="box">ì§„í–‰ë¥ <div class="num" id="routinePct">0%</div></div>
  </div>
</div>

</div>
</div>

<!-- ================= ë·°í‹° ================= -->
<div id="beauty" class="page">
<div class="wrap">

<div class="card">
  <h1>ì™¸ëª¨ ê°€ê¾¸ê¸° ì§‘ì¤‘</h1>
  <div class="sub">ì‹ë‹¨ Â· ìŠ¤í‚¨ì¼€ì–´ Â· ë°”ë”” Â· í—¬ìŠ¤ Â· ë§ˆì¸ë“œ</div>
</div>

<div class="card">
  <div class="section-title">ğŸ½ ì‹ë‹¨</div>
  <div class="item"><input type="checkbox" data-k="b_meat">ì ìƒ‰ìœ¡</div>
  <div class="item"><input type="checkbox" data-k="b_water">ë¬¼ 1~2L</div>
</div>

<div class="card">
  <div class="section-title">âœ¨ ìŠ¤í‚¨ì¼€ì–´</div>
  <div class="item"><input type="checkbox" data-k="b_clean">ì„¸ì•ˆ</div>
  <div class="item"><input type="checkbox" data-k="b_pack">íŒ©</div>
</div>

<div class="card">
  <div class="section-title">ğŸ“ ëª¸ìƒíƒœ ë©”ëª¨</div>
  <textarea id="beautyMemo" placeholder="ì»¨ë””ì…˜ / í”¼ë¶€ / ë¶“ê¸°"></textarea>
</div>

<div class="card">
  <div class="progress"><div class="bar" id="beautyBar"></div></div>
  <div class="kpi">
    <div class="box">ì§„í–‰ë¥ <div class="num" id="beautyPct">0%</div></div>
  </div>
</div>

</div>
</div>

<script>
/* ===== íƒ­ ===== */
const tabRoutine=tabBeauty=document.getElementById("tabRoutine");
const tabBeautyBtn=document.getElementById("tabBeauty");
const routine=document.getElementById("routine");
const beauty=document.getElementById("beauty");

tabRoutine.onclick=()=>{routine.classList.add("active");beauty.classList.remove("active");tabRoutine.classList.add("active");tabBeautyBtn.classList.remove("active");}
tabBeautyBtn.onclick=()=>{beauty.classList.add("active");routine.classList.remove("active");tabBeautyBtn.classList.add("active");tabRoutine.classList.remove("active");}

/* ===== ê³µí†µ ì—”ì§„ ===== */
function engine(prefix, memoId, barId, pctId){
  const key=`dashboard_${prefix}`;
  const state=JSON.parse(localStorage.getItem(key)||"{}");
  const boxes=[...document.querySelectorAll(`input[data-k^="${prefix}_"]`)];
  const memo=document.getElementById(memoId);

  boxes.forEach(b=>{
    b.checked=!!state[b.dataset.k];
    b.onchange=()=>{
      state[b.dataset.k]=b.checked;
      save();
    };
  });

  memo.value=state.memo||"";
  memo.oninput=()=>{state.memo=memo.value;save();};

  function save(){
    localStorage.setItem(key,JSON.stringify(state));
    update();
  }
  function update(){
    const done=boxes.filter(b=>b.checked).length;
    const pct=Math.round(done/boxes.length*100)||0;
    document.getElementById(barId).style.width=pct+"%";
    document.getElementById(pctId).textContent=pct+"%";
  }
  update();
}

engine("r","routineMemo","routineBar","routinePct");
engine("b","beautyMemo","beautyBar","beautyPct");
</script>

</body>
</html>